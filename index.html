<!DOCTYPE html>
<html>
    <head>
        <title>Vocabulary</title>
        <meta charset="utf-8">

        <link rel="stylesheet" href="styles/card.css">
        <link rel="stylesheet" href="styles/style.css">
        <link rel="stylesheet" href="styles/chapter_select.css">
    </head>
    <body>
        <div class="default-card-side">
            <input type="radio" id="spanish" name="side" value="front">
            <label for="spanish">Spanish</label>

            <input type="radio" id="english" name="side" value="back">
            <label for="english">English</label><br>
        </div>

        <div class="chapter-select">
            <input type="checkbox" id="vocab0" onclick="loadVocab(0, this.checked)">
            <label for="chapter0">Chapter 0</label><br>

            <input type="checkbox" id="vocab1" onclick="loadVocab(1, this.checked)">
            <label for="chapter1">Chapter 1</label><br>

            <input type="checkbox" id="vocab2" onclick="loadVocab(2, this.checked)">
            <label for="chapter2">Chapter 2</label><br>

            <input type="checkbox" id="vocab3" onclick="loadVocab(3, this.checked)">
            <label for="chapter3">Chapter 3</label><br>
            
            <input type="checkbox" id="vocab4" onclick="loadVocab(4, this.checked)">
            <label for="chapter4">Chapter 4</label><br>
            
            <input type="checkbox" id="vocab5" onclick="loadVocab(5, this.checked)">
            <label for="chapter5">Chapter 5</label><br>
            
            <input type="checkbox" id="vocab6" onclick="loadVocab(6, this.checked)">
            <label for="chapter6">Chapter 6</label><br>
            
            <input type="checkbox" id="vocab7" onclick="loadVocab(7, this.checked)">
            <label for="chapter7">Chapter 7</label><br>
            
            <input type="checkbox" id="vocab8" onclick="loadVocab(8, this.checked)">
            <label for="chapter8">Chapter 8</label><br>
            
            <input type="checkbox" id="vocab9" onclick="loadVocab(9, this.checked)">
            <label for="chapter9">Chapter 9</label><br>
            
            <input type="checkbox" id="vocab10" onclick="loadVocab(10, this.checked)">
            <label for="chapter10">Chapter 10</label><br>
            
            <input type="checkbox" id="vocab11" onclick="loadVocab(11, this.checked)">
            <label for="chapter11">Chapter 11</label><br>
            
            <input type="checkbox" id="vocab12" onclick="loadVocab(12, this.checked)">
            <label for="chapter12">Chapter 12</label><br>
        </div>


        <div class="scene">
            <div class="card">
                <div class="card-face card-face-front">
                    <h3 id="card-face-front-text">Front</h3>
                </div>
                <div class="card-face card-face-back">
                    <h3 id="card-face-back-text">Back</h3>
                </div>
            </div>
        </div>

        <button type="button" class="button" id="back">Back</button>
        <button type="button" class="button">Listen</button> 
        <button type="button" class="button" id="next">Next</button>
        
    </body>


    <!--Listener for flip card-->
    <script type="text/javascript">
        var card = document.querySelector('.card');
        card.addEventListener('click', function() {
            card.classList.toggle('is-flipped');
        });
    </script>
    
    <!-- var name: flash_card_det{index} -->
    <script src="resources/audio_flash_card_0000.js"></script>
    <script src="resources/audio_flash_card_0001.js"></script> 
    <script src="resources/audio_flash_card_0002.js"></script>  
    <script src="resources/audio_flash_card_0003.js"></script>
    <script src="resources/audio_flash_card_0004.js"></script>
    <script src="resources/audio_flash_card_0005.js"></script>
    <script src="resources/audio_flash_card_0006.js"></script>
    <script src="resources/audio_flash_card_0007.js"></script>
    <script src="resources/audio_flash_card_0008.js"></script>
    <script src="resources/audio_flash_card_0009.js"></script>
    <script src="resources/audio_flash_card_0010.js"></script>
    <script src="resources/audio_flash_card_0011.js"></script>
    <script src="resources/audio_flash_card_0012.js"></script>

    <script type="text/javascript">
        const cardFront = document.getElementById("card-face-front-text");
        const cardBack = document.getElementById("card-face-back-text");

        const VOCAB_LIST = 13; //Amount of vocab lists


        const vocabList = [flash_card_det0, flash_card_det1, flash_card_det2, flash_card_det3, flash_card_det4, flash_card_det5, flash_card_det6,
                        flash_card_det7, flash_card_det8, flash_card_det9, flash_card_det10, flash_card_det11, flash_card_det12];

        var selected = [];

        function loadVocab (vocabListIndex, checkboxValue) {
            if (checkboxValue == true) {
                selected.push(vocabList[vocabListIndex]);
            } else {
                const index = selected.indexOf(vocabList[vocabListIndex]);
                if (index > -1) {
                    selected.splice(index, 1);
                }
            }
        }

        function displayWord (frontText, backText) {
            cardFront.innerHTML = frontText;
            cardBack.innerHTML = backText;
        }

    </script>


    <!-- On window load, load all preselected checkboxs into selected array-->
    <script type="text/javascript">

        function init() {
            //Load any preselected vocab lists
            for (var vocabList = 0; vocabList < VOCAB_LIST; vocabList++) {
                if (document.getElementById("list" + vocabList).checked) {
                    loadChapter(vocabList, true);
                }
            }

            


            window.addEventListener('load', (event) => {
                    init();
            })
        }
    </script>
    
</html>